{% extends "base.html" %} {% block title %}Chatrooms{% endblock %} {% block
content %}
<h2>Chatrooms</h2>
<table>
  <thead>
    <tr>
      <th>Chatroom ID</th>
      <th>
        <a
          href="{{ url_for('chatrooms', page=page, sort_by='message_count', order='asc' if sort_by == 'message_count' and order == 'desc' else 'desc') }}"
        >
          Jumlah Pesan
        </a>
      </th>
      <th>
        <a
          href="{{ url_for('chatrooms', page=page, sort_by='last_update', order='asc' if sort_by == 'last_update' and order == 'desc' else 'desc') }}"
        >
          Terakhir Update
        </a>
      </th>
    </tr>
  </thead>
  <tbody>
    {% for chatroom in chatrooms %}
    <tr>
      <td>{{ chatroom._id }}</td>
      <td>{{ chatroom.message_count }}</td>
      <td>{{ chatroom.last_update | dateformat }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<div>
  {% if page > 1 %}
  <a
    href="{{ url_for('chatrooms', page=page - 1, sort_by=sort_by, order=order) }}"
    >Previous</a
  >
  {% endif %}
  <span>Page {{ page }} of {{ total_pages }}</span>
  {% if page < total_pages %}
  <a
    href="{{ url_for('chatrooms', page=page + 1, sort_by=sort_by, order=order) }}"
    >Next</a
  >
  {% endif %}
</div>
{% endblock %}
