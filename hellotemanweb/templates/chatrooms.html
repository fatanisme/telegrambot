{% extends "base.html" %} {% block title %}Chatrooms{% endblock %} {% block
content %}
<h2>Chatrooms</h2>
<table>
  <thead>
    <tr>
      <th>
        <a
          href="{{ url_for('chatrooms', page=page, sort_by='chatroom_id', order='asc' if sort_by == 'chatroom_id' and order == 'desc' else 'desc') }}"
          >Chatroom ID</a
        >
      </th>
      <th>
        <a
          href="{{ url_for('chatrooms', page=page, sort_by='message_count', order='asc' if sort_by == 'message_count' and order == 'desc' else 'desc') }}"
          >Jumlah Pesan</a
        >
      </th>
      <th>
        <a
          href="{{ url_for('chatrooms', page=page, sort_by='last_update', order='asc' if sort_by == 'last_update' and order == 'desc' else 'desc') }}"
          >Terakhir Update</a
        >
      </th>
    </tr>
  </thead>
  <tbody>
    {% for chatroom in chatrooms %}
    <tr>
      <td>{{ chatroom._id }}</td>
      <td>{{ chatroom.message_count }}</td>
      <td>{{ chatroom.last_update | datetimeformat }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<div class="pagination">
  {% if page > 1 %}
  <a
    href="{{ url_for('chatrooms', page=page-1, sort_by=sort_by, order=order) }}"
    >&laquo; Previous</a
  >
  {% endif %} {% for p in range(1, total_pages + 1) %} {% if p == page %}
  <span>{{ p }}</span>
  {% else %}
  <a href="{{ url_for('chatrooms', page=p, sort_by=sort_by, order=order) }}"
    >{{ p }}</a
  >
  {% endif %} {% endfor %} {% if page < total_pages %}
  <a
    href="{{ url_for('chatrooms', page=page+1, sort_by=sort_by, order=order) }}"
    >Next &raquo;</a
  >
  {% endif %}
</div>
{% endblock %}

<style>
  .pagination {
    margin-top: 20px;
    text-align: center;
  }
  .pagination a {
    margin: 0 5px;
    padding: 5px 10px;
    border: 1px solid #ddd;
    text-decoration: none;
    color: #007bff;
  }
  .pagination a:hover {
    background-color: #007bff;
    color: white;
  }
  .pagination span {
    margin: 0 5px;
    padding: 5px 10px;
    border: 1px solid #ddd;
    background-color: #f2f2f2;
    color: #333;
  }
</style>
